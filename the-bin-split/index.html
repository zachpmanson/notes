<!DOCTYPE html>
<html lang="en">

<head>
  <link rel="stylesheet" href="/static/styles/global.css" />
  <link rel="stylesheet" href="/static/styles/code.css" />

  <link rel="icon" href="/static/icon/icon.svg" type="image/svg+xml">
  <link rel="shortcut icon" href="/static/icon/favicon.ico" />

  <link rel="alternate" type="application/rss+xml" href="https://notes.zachmanson.com/posts.xml" title="notes: posts" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta charset="UTF-8" />
  <title>notes: the bin split</title>
</head>

<body>
  <nav>
    <div class="main-icon">
      <a href="/">
        <svg xmlns="http://www.w3.org/2000/svg" baseProfile="full" version="1.1" style="fill: none;"
          viewBox="26.88 56.87 216.25 156.27">
          <path
            style="stroke-width: 15px; stroke-linecap: butt; stroke-linejoin: round; stroke: rgb(10, 10, 10); fill: none;"
            d="M135,75 A60,60 0 0,0 75,135 A60,60 0 0,0 135,195 A60,60 0 0,0 195,135 A60,60 0 0,0 135,75 M45,90 A15,15 0 0,1 60,75 A15,15 0 0,1 75,90 L75,135 L75,180 A15,15 0 0,1 60,195 A15,15 0 0,1 45,180 M225,90 A15,15 0 0,0 210,75 A15,15 0 0,0 195,90 L195,135 L195,180 A15,15 0 0,0 210,195 L210,195 A15,15 0 0,0 225,180 M135,105 A30,30 0 0,1 165,135 A30,30 0 0,1 135,165 A30,30 0 0,1 105,135 A30,30 0 0,1 135,105 M45,105 L45,105 L45,165 M225,105 L225,105 L225,165 ">
          </path>
        </svg>
      </a>
    </div>

    <div class="nav-segments-container">
      <div class="nav-segments">
        
        <div class="nav-links piblings">
          
          
          
          <a href="/bookmarks">Bookmarks</a>
          
          
          
          <a href="/fiction">Fiction</a>
          
          
          
          <a href="/folklore" class="activated-link">Folklore</a>
          
          
          
          <a href="/lines">Lines</a>
          
          
          
          <a href="/problems">Problems</a>
          
          
          
          <a href="/templates">Templates</a>
          
          
        </div>
        

        
        <div class="nav-links siblings">
          
          
          
          <a href="/10-rules-of-internet">10 Rules of Internet</a>
          

          
          
          <a href="/a-conspiracy-to-kill-ie6">A Conspiracy To Kill IE6</a>
          

          
          
          <a href="/a-story-about-magic">A Story About 'Magic'</a>
          

          
          
          <a href="/alice-in-modeland">Alice in Modeland</a>
          

          
          
          <a href="/aliens-and-calendars">Aliens and Calendars</a>
          

          
          
          <a href="/amazons-first-job-posting">Amazon's First Job Posting</a>
          

          
          
          <a href="/an-update-on-facebook-video-marketing-metrics">An Update on Facebook Video Marketing Metrics</a>
          

          
          
          <a href="/bell-labs-productivity-mystery">Bell Labs' Productivity Mystery</a>
          

          
          
          <a href="/best-practices-for-time-travellers">Best Practices for Time Travellers</a>
          

          
          
          <a href="/bill-gates-tries-to-install-windows-movie-maker">Bill Gates Tries To Install Windows Movie Maker</a>
          

          
          
          <a href="/bill-gates-wrote-fat-on-an-airplane">Bill Gates Wrote FAT on an Airplane</a>
          

          
          
          <a href="/blinkenlichten">Blinkenlichten</a>
          

          
          
          <a href="/c-locale-braindeath">C Locale Braindeath</a>
          

          
          
          <a href="/cannot-simultaneously-fix-and-keep-job.-therefore-wont-fix.">Cannot simultaneously fix and keep job. Therefore, won't fix.</a>
          

          
          
          <a href="/christ-mcdonald">Christ McDonald</a>
          

          
          
          <a href="/competing-with-gpt">Competing with GPT</a>
          

          
          
          <a href="/context-menu-hell">Context Menu Hell</a>
          

          
          
          <a href="/cool-uris-dont-change">Cool URIs Don't Change</a>
          

          
          
          <a href="/dear-google-cloud">Dear Google Cloud</a>
          

          
          
          <a href="/digg-v4">Digg v4</a>
          

          
          
          <a href="/dispatch-from-the-cyberpunk-city">Dispatch From the Cyberpunk City</a>
          

          
          
          <a href="/do-things-tell-people">Do Things, Tell People</a>
          

          
          
          <a href="/dropbox-feedback">Dropbox Feedback</a>
          

          
          
          <a href="/ellsbergs-advice-for-kissinger">Ellsberg's Advice For Kissinger</a>
          

          
          
          <a href="/facing-the-street">Facing the Street</a>
          

          
          
          <a href="/factory-factory-factory">Factory Factory Factory</a>
          

          
          
          <a href="/feminist-server-manifesto">Feminist Server Manifesto</a>
          

          
          
          <a href="/file-over-app">File Over App</a>
          

          
          
          <a href="/git-koans">Git Koans</a>
          

          
          
          <a href="/group-chats-rule-the-world">Group Chats Rule the World</a>
          

          
          
          <a href="/growth-at-tumblr-and-wordpress">Growth at Tumblr and Wordpress</a>
          

          
          
          <a href="/guerilla-open-access-manifesto">Guerilla Open Access Manifesto</a>
          

          
          
          <a href="/heaven-banning">Heaven Banning</a>
          

          
          
          <a href="/i-no-longer-built-software">I No Longer Built Software</a>
          

          
          
          <a href="/in-the-beginning-was-the-command-line">In the Beginning was the Command Line</a>
          

          
          
          <a href="/incomplete-list-of-mistakes-in-the-design-of-css">Incomplete List of Mistakes in the Design of CSS</a>
          

          
          
          <a href="/interviewing-for-canonical">Interviewing for Canonical</a>
          

          
          
          <a href="/jsx-react-native-and-typescript">JSX, React Native, and TypeScript</a>
          

          
          
          <a href="/kurt-vonnegut-grades">Kurt Vonnegut Grades</a>
          

          
          
          <a href="/language-and-death">Language and Death</a>
          

          
          
          <a href="/larry-page-builds-a-web-robot">Larry Page Builds a Web Robot</a>
          

          
          
          <a href="/leaving-linkedin">Leaving LinkedIn</a>
          

          
          
          <a href="/life-of-an-oracle-developer">Life of an Oracle Developer</a>
          

          
          
          <a href="/man-spends-entire-career-mastering-crappy-codebase">Man Spends Entire Career Mastering Crappy Codebase</a>
          

          
          
          <a href="/no-coffee-==-no-job">No Coffee == No Job</a>
          

          
          
          <a href="/no-dogs-were-harmed-in-the-making-of-this-app">No dogs were harmed in the making of this app</a>
          

          
          
          <a href="/not-a-real-engineer">Not a real engineer</a>
          

          
          
          <a href="/on-the-origin-of-.ds_store">On the Origin of .DS_Store</a>
          

          
          
          <a href="/on-the-origin-of-emacs">On the Origin of Emacs</a>
          

          
          
          <a href="/on-the-origin-of-toots">On the Origin of Toots</a>
          

          
          
          <a href="/on-the-origins-of-rust">On the Origins of Rust</a>
          

          
          
          <a href="/openoffice-cant-print-on-tuesdays">OpenOffice Can't Print on Tuesdays</a>
          

          
          
          <a href="/oracle-as-lawnmower">Oracle as Lawnmower</a>
          

          
          
          <a href="/originality-not-required">Originality Not Required</a>
          

          
          
          <a href="/psd-is-not-my-favourite-file-format">PSD is not my favourite file format</a>
          

          
          
          <a href="/please-drink-verification-can">Please Drink Verification Can</a>
          

          
          
          <a href="/please-think-more">Please Think More</a>
          

          
          
          <a href="/pocket-veto">Pocket Veto</a>
          

          
          
          <a href="/price-of-chatgpts-api-vs-human">Price of ChatGPT's API vs Human</a>
          

          
          
          <a href="/put-yourself-in-jia-tans-shoes">Put yourself in Jia Tan's shoes</a>
          

          
          
          <a href="/regular-expressions-and-html">Regular Expressions and HTML</a>
          

          
          
          <a href="/rob-pikes-5-rules-of-programming">Rob Pike's 5 Rules of Programming</a>
          

          
          
          <a href="/rob-pikes-lesson-in-shortcuts">Rob Pike's Lesson in Shortcuts</a>
          

          
          
          <a href="/sre-threats">SRE Threats</a>
          

          
          
          <a href="/sleep-sort">Sleep Sort</a>
          

          
          
          <a href="/steve-yegges-tale-of-geoworks">Steve Yegge's Tale of Geoworks</a>
          

          
          
          <a href="/steveys-google-platforms-rant">Stevey's Google Platforms Rant</a>
          

          
          
          <a href="/superstitious-encoding">Superstitious Encoding</a>
          

          
          
          <a href="/svelte-parses-html-all-wrong">Svelte parses HTML all wrong</a>
          

          
          
          <a href="/the-bitter-lesson">The Bitter Lesson</a>
          

          
          
          <a href="/the-cmd-click-manifesto">The CMD-Click Manifesto</a>
          

          
          
          <a href="/the-cab-ride-ill-never-forget">The Cab Ride I'll Never Forget</a>
          

          
          
          <a href="/the-case-of-the-500-mile-email">The Case of the 500-Mile Email</a>
          

          
          
          <a href="/the-crawford-principles">The Crawford Principles</a>
          

          
          
          <a href="/the-damned-can-now-play-three-chords">The Damned Can Now Play Three Chords</a>
          

          
          
          <a href="/the-descent-to-c">The Descent to C</a>
          

          
          
          <a href="/the-future-of-open-source">The Future of Open Source</a>
          

          
          
          <a href="/the-nazi-bar-problem">The Nazi Bar Problem</a>
          

          
          
          <a href="/the-patron-saint-of-yak-shaves">The Patron Saint of Yak Shaves</a>
          

          
          
          <a href="/the-reddit-long-con">The Reddit Long Con</a>
          

          
          
          <a href="/the-smallest-quine">The Smallest Quine</a>
          

          
          
          <a href="/the-unknown-citizen">The Unknown Citizen</a>
          

          
          
          <a href="/the-bin-split" class="activated-link">The bin Split</a>
          

          
          
          <a href="/things-many-people-find-too-obvious-to-have-told-you-already">Things Many People Find Too Obvious To Have Told You Already</a>
          

          
          
          <a href="/thoughts-on-flash">Thoughts On Flash</a>
          

          
          
          <a href="/tiktoks-enshittification">TikTok's Enshittification</a>
          

          
          
          <a href="/time-traveller-on-irc">Time Traveller on IRC</a>
          

          
          
          <a href="/unix-recovery-legend">Unix Recovery Legend</a>
          

          
          
          <a href="/usenet-post-warning">Usenet Post Warning</a>
          

          
          
          <a href="/virtues-of-a-good-programmer">Virtues of a Good Programmer</a>
          

          
          
          <a href="/we-do-not-break-userspace">We Do Not Break Userspace</a>
          

          
          
          <a href="/we-have-no-moat-and-neither-does-openai">We Have No Moat, And Neither Does OpenAI</a>
          

          
          
          <a href="/when-is-midnight">When Is Midnight</a>
          

          
          
          <a href="/wikipedia-and-anti-elitism">Wikipedia and Anti-Elitism</a>
          

          
          
          <a href="/worse-is-better">Worse is Better</a>
          

          
          
          <a href="/yak-shaving">Yak Shaving</a>
          

          
          
          <a href="/carproblems.txt">carproblems.txt</a>
          

          
        </div>
        

        
      </div>
    </div>
  </nav>

  <main>
    <header>
      <h1>The bin Split</h1>
    </header>

    <article><p><a href="http://landley.net/">Rob Landley</a>'s explanation of the bin, sbin, usr/bin, usr/sbin split, taken from the <a href="http://lists.busybox.net/pipermail/busybox/2010-December/074114.html">busybox mailing list</a>.</p>
<hr />
<div class="highlight"><pre><span></span><code>From: Rob Landley &lt;rob at landley.net&gt;
Subject: Understanding the bin, sbin, usr/bin , usr/sbin split 
Date: Thu Dec 9 15:45:39 UTC 2010 

On Tuesday 30 November 2010 15:58:00 David Collier wrote:
&gt; I see that busybox spreads it&#39;s links over these 4 directories.
&gt;
&gt; Is there a simple rule which decides which directory each link lives
&gt; in.....
&gt;
&gt; For instance I see kill is in /bin and killall in /usr/bin.... I don&#39;t
&gt; have a grip on what might be the logic for that.

You know how Ken Thompson and Dennis Ritchie created Unix on a PDP-7 in 1969?  
Well around 1971 they upgraded to a PDP-11 with a pair of RK05 disk packs (1.5 
megabytes each) for storage.

When the operating system grew too big to fit on the first RK05 disk pack (their 
root filesystem) they let it leak into the second one, which is where all the 
user home directories lived (which is why the mount was called /usr).  They 
replicated all the OS directories under there (/bin, /sbin, /lib, /tmp...) and 
wrote files to those new directories because their original disk was out of 
space.  When they got a third disk, they mounted it on /home and relocated all 
the user directories to there so the OS could consume all the space on both 
disks and grow to THREE WHOLE MEGABYTES (ooooh!).

Of course they made rules about &quot;when the system first boots, it has to come up 
enough to be able to mount the second disk on /usr, so don&#39;t put things like 
the mount command /usr/bin or we&#39;ll have a chicken and egg problem bringing 
the system up.&quot;  Fairly straightforward.  Also fairly specific to v6 unix of 35 
years ago.

The /bin vs /usr/bin split (and all the others) is an artifact of this, a 
1970&#39;s implementation detail that got carried forward for decades by 
bureaucrats who never question _why_ they&#39;re doing things.  It stopped making 
any sense before Linux was ever invented, for multiple reasons:

1) Early system bringup is the provice of initrd and initramfs, which deals 
with the &quot;this file is needed before that file&quot; issues.  We&#39;ve already _got_ a 
temporary system that boots the main system.

2) shared libraries (introduced by the Berkeley guys) prevent you from 
independently upgrading the /lib and /usr/bin parts.  They two partitions have 
to _match_ or they won&#39;t work.  This wasn&#39;t the case in 1974, back then they 
had a certain level of independence because everything was statically linked.

3) Cheap retail hard drives passed the 100 megabyte mark around 1990, and 
partition resizing software showed up somewhere around there (partition magic 
3.0 shipped in 1997).

Of course once the split existed, some people made other rules to justify it.  
Root was for the OS stuff you got from upstream and /usr was for your site-
local files.  Then / was for the stuff you got from AT&amp;T and /usr was for the 
stuff that your distro like IBM AIX or Dec Ultrix or SGI Irix added to it, and 
/usr/local was for your specific installation&#39;s files.  Then somebody decided 
/usr/local wasn&#39;t a good place to install new packages, so let&#39;s add /opt!  
I&#39;m still waiting for /opt/local to show up...

Of course given 30 years to fester, this split made some interesting distro-
specific rules show up and go away again, such as &quot;/tmp is cleared between 
reboots but /usr/tmp isn&#39;t&quot;.  (Of course on Ubuntu /usr/tmp doesn&#39;t exist and 
on Gentoo /usr/tmp is a symlink to /var/tmp which now has the &quot;not cleared 
between reboots&quot; rule.  Yes all this predated tmpfs.  It has to do with read-
only root filesystems, /usr is always going to be read only in that case and 
/var is where your writable space is, / is _mostly_ read only except for bits 
of /etc which they tried to move to /var but really symlinking /etc to 
/var/etc happens more often than not...)

Standards bureaucracies like the Linux Foundation (which consumed the Free 
Standards Group in its&#39; ever-growing accretion disk years ago) happily 
document and add to this sort of complexity without ever trying to understand 
why it was there in the first place.  &#39;Ken and Dennis leaked their OS into the 
equivalent of home because an RK05 disk pack on the PDP-11 was too small&quot; goes 
whoosh over their heads.

I&#39;m pretty sure the busybox install just puts binaries wherever other versions 
of those binaries have historically gone.  There&#39;s no actual REASON for any of 
it anymore.  Personally, I symlink /bin /sbin and /lib to their /usr 
equivalents on systems I put together.  Embedded guys try to understand and 
simplify...

Rob
-- 
GPLv3: as worthy a successor as The Phantom Menace, as timely as Duke Nukem 
Forever, and as welcome as New Coke.
</code></pre></div></article>
  </main>

  <footer>
    <details>
      <summary>
        <div class="footer-row">
          
          meta
          
          <a href="/recent-changes">recent</a>
          <a href="/make" class="not-extra-small">random</a>
          <a href="/posts">posts</a>
          <a href="/sitemap" class="not-extra-small">sitemap</a>
          <a href="https://github.dev/zachpmanson/notes/blob/main/./notes/Archive/Folklore/The bin Split.md" class="desktop">edit</a>
          <a href="https://github.com/zachpmanson/notes/edit/main/./notes/Archive/Folklore/The bin Split.md" class="mobile">edit</a>
          <a href="mailto:zachpmanson@gmail.com?subject=On 'The bin Split'">reply</a>
        </div>
      </summary>
      <div class="extra-small">
        <div class="footer-row">
          <a href="/sitemap">sitemap</a>
          <a href="/make">random</a>
        </div>
      </div>

      

      <p class="backlinks"><strong>Incoming:</strong>
        
        <a href="/unix">Unix</a>
        
        </span>
      </p>
      

      
      <p class="backlinks"><strong> <a href="/tags">Tags:</a></strong>
        
        <a href="/tags#relics">#relics</a>
        
        </span>
      </p>
      
      <p>
        

        <span class="backlinks">
          <strong>
            Updated:
          </strong>
          <date>2024-09-10</date>
        </span>

      </p>
    </details>

  </footer>
  
  <script type="module">
    let allActivatedLinks = document.querySelectorAll(".activated-link");

    function checkVisible(el) {
      let rect = el.getBoundingClientRect();
      let viewHeight = Math.max(document.documentElement.clientHeight, window.innerHeight);
      return !(rect.bottom < 0 || rect.top - viewHeight >= 0);
    }


    function scrollActivatedLinksIntoView(behavior="smooth") {
      for (let link of allActivatedLinks) {
        if (checkVisible(link.parentElement)) {
          link.scrollIntoView({behavior: behavior, block: "center", inline: "nearest"});
        }
      }
    }
    
    document.querySelector("nav").addEventListener("mouseleave", ()=>{
      setTimeout(scrollActivatedLinksIntoView, 350);
    });
    scrollActivatedLinksIntoView();
  </script>
</body>

</html>