<!DOCTYPE html>
<html lang="en">

<head>
  <link rel="stylesheet" href="/static/styles/global.css" />
  <link rel="stylesheet" href="/static/styles/code.css" />

  <link rel="icon" href="/static/icon/icon.svg" type="image/svg+xml">
  <link rel="shortcut icon" href="/static/icon/favicon.ico" />

  <link rel="alternate" type="application/rss+xml" href="https://notes.zachmanson.com/posts.xml" title="notes: posts" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta charset="UTF-8" />
  <title>notes: the poor man's static site generator</title>
</head>

<body>
  <nav>
    <div class="main-icon">
      <a href="/">
        <svg xmlns="http://www.w3.org/2000/svg" baseProfile="full" version="1.1" style="fill: none;"
          viewBox="26.88 56.87 216.25 156.27">
          <path
            style="stroke-width: 15px; stroke-linecap: butt; stroke-linejoin: round; stroke: rgb(10, 10, 10); fill: none;"
            d="M135,75 A60,60 0 0,0 75,135 A60,60 0 0,0 135,195 A60,60 0 0,0 195,135 A60,60 0 0,0 135,75 M45,90 A15,15 0 0,1 60,75 A15,15 0 0,1 75,90 L75,135 L75,180 A15,15 0 0,1 60,195 A15,15 0 0,1 45,180 M225,90 A15,15 0 0,0 210,75 A15,15 0 0,0 195,90 L195,135 L195,180 A15,15 0 0,0 210,195 L210,195 A15,15 0 0,0 225,180 M135,105 A30,30 0 0,1 165,135 A30,30 0 0,1 135,165 A30,30 0 0,1 105,135 A30,30 0 0,1 135,105 M45,105 L45,105 L45,165 M225,105 L225,105 L225,165 ">
          </path>
        </svg>
      </a>
    </div>

    <div class="nav-segments-container">
      <div class="nav-segments">
        

        <div class="flex flex-col text-left nav-links">
          <a href="/posts" class="activated-link">Posts</a>
          
          
          <a href="/archive">Archive</a>
          
          
          
          <a href="/meta">Meta</a>
          
          
          
          <a href="/notes">Notes</a>
          
          
          
          
          
          
          <a href="/projects">Projects</a>
          
          
        </div>
        

        

        <div class="flex flex-col text-left nav-links">
          <a href="/the-poor-mans-static-site-generator" class="activated-link">The Poor Man's Static Site Generator</a>
          
        </div>
        

        
      </div>
    </div>


  </nav>
  <main>
    <header>
      <h1>Using Pandoc to well below its fullest potential!</h1>
    </header>
    <article><p><a href="https://pandoc.org/">Pandoc</a> is a Swiss Army knife that I exclusively use to cut cheese.</p>
<p>Every time I begin to write for this site, I open Codium and create a new file in my repo. Then I realise I meant to create a new folder, call myself an idiot and start over. This is the first step of my process, which currently concludes with running my anemic static site generator. I hope to soon replace with this a bespoke and iron proficient(?) site generator, but until then I will continue using Pandoc to fulfill my static site generator requirements.</p>
<p>My static site generator requirements:</p>
<ul>
<li>Markdown input</li>
<li>Code highlighting</li>
<li>with theming?</li>
<li>Simple templating</li>
<li>Minimum (ideally 0) dependencies</li>
<li>Automated?</li>
</ul>
<h2 id="markdown-input">Markdown Input</h2>
<p>It can convert documents between myriad formats, most relevantly Markdown to HTML.</p>
<div class="highlight"><pre><span></span><code>pandoc<span class="w"> </span>inputfile.md<span class="w"> </span>-o<span class="w"> </span>output.html<span class="w"> </span>--to<span class="o">=</span>html5
</code></pre></div>
<h2 id="code-highlighting">Code Highlighting</h2>
<p>There are plenty of tools that can do this, but Pandoc was the first I found that had code highlighting without having any depedencies like <a href="https://highlightjs.org/">highlight.js</a>, just saving the colour information in inline CSS</p>
<p>Any fenced Markdown code blocks with a language specified (like the following) will have the syntax automatically highlighted by Pandoc.</p>
<div class="highlight"><pre><span></span><code><span class="gh"># Title</span>

<span class="gu">## Subtitle</span>

Lorem ipsum amirite.  Hey look a fenced code block:

<span class="sb">```Python</span>
<span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">5</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;x is equal to 5&quot;</span><span class="p">)</span>
<span class="sb">```</span>
</code></pre></div>
<p>Pandoc will turn this Markdown into the following HTML:</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">h1</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;title&quot;</span><span class="p">&gt;</span>Title<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">h2</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;subtitle&quot;</span><span class="p">&gt;</span>Subtitle<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>Lorem ipsum amirite. Hey look a fenced code block:<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;sourceCode&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;cb3&quot;</span><span class="p">&gt;&lt;</span><span class="nt">pre</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;sourceCode python&quot;</span><span class="p">&gt;&lt;</span><span class="nt">code</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;sourceCode python&quot;</span><span class="p">&gt;&lt;</span><span class="nt">span</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;cb3-1&quot;</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#cb3-1&quot;</span> <span class="na">aria-hidden</span><span class="o">=</span><span class="s">&quot;true&quot;</span> <span class="na">tabindex</span><span class="o">=</span><span class="s">&quot;-1&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;cf&quot;</span><span class="p">&gt;</span>if<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span> x <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;op&quot;</span><span class="p">&gt;</span>==<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span> <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;dv&quot;</span><span class="p">&gt;</span>5<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>:<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">span</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;cb3-2&quot;</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#cb3-2&quot;</span> <span class="na">aria-hidden</span><span class="o">=</span><span class="s">&quot;true&quot;</span> <span class="na">tabindex</span><span class="o">=</span><span class="s">&quot;-1&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>    <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;bu&quot;</span><span class="p">&gt;</span>print<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>(<span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;st&quot;</span><span class="p">&gt;</span>&quot;x is equal to 5&quot;<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>)<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;&lt;/</span><span class="nt">code</span><span class="p">&gt;&lt;/</span><span class="nt">pre</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div>
<p>The various HTML tag class spaghetti are used to highlight the code, though the CSS required to actually make this work is not included in the standard Pandoc command invocation. To actually generate the CSS that makes these classes work you need to use the <code>--standalone</code> flag, à la:</p>
<div class="highlight"><pre><span></span><code>pandoc<span class="w"> </span>inputfile.md<span class="w"> </span>-o<span class="w"> </span>output.html<span class="w"> </span>--to<span class="o">=</span>html5<span class="w"> </span>--standalone
</code></pre></div>
<p>This will include some inline CSS, along the lines of:</p>
<div class="highlight"><pre><span></span><code><span class="nt">code</span><span class="w"> </span><span class="nt">span</span><span class="p">.</span><span class="nc">al</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="mh">#ff0000</span><span class="p">;</span><span class="w"> </span><span class="k">font-weight</span><span class="p">:</span><span class="w"> </span><span class="kc">bold</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c">/* Alert */</span>
<span class="nt">code</span><span class="w"> </span><span class="nt">span</span><span class="p">.</span><span class="nc">an</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="mh">#60a0b0</span><span class="p">;</span><span class="w"> </span><span class="k">font-weight</span><span class="p">:</span><span class="w"> </span><span class="kc">bold</span><span class="p">;</span><span class="w"> </span><span class="k">font-style</span><span class="p">:</span><span class="w"> </span><span class="kc">italic</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c">/* Annotation */</span>
<span class="nt">code</span><span class="w"> </span><span class="nt">span</span><span class="p">.</span><span class="nc">at</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="mh">#7d9029</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c">/* Attribute */</span>
<span class="nt">code</span><span class="w"> </span><span class="nt">span</span><span class="p">.</span><span class="nc">bn</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="mh">#40a070</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c">/* BaseN */</span>
<span class="nt">code</span><span class="w"> </span><span class="nt">span</span><span class="p">.</span><span class="nc">bu</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c">/* BuiltIn */</span>
<span class="nt">code</span><span class="w"> </span><span class="nt">span</span><span class="p">.</span><span class="nc">cf</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="mh">#007020</span><span class="p">;</span><span class="w"> </span><span class="k">font-weight</span><span class="p">:</span><span class="w"> </span><span class="kc">bold</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c">/* ControlFlow */</span>
<span class="nt">code</span><span class="w"> </span><span class="nt">span</span><span class="p">.</span><span class="nc">ch</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="mh">#4070a0</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c">/* Char */</span>
<span class="nt">code</span><span class="w"> </span><span class="nt">span</span><span class="p">.</span><span class="nc">cn</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="mh">#880000</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c">/* Constant */</span>
<span class="nt">code</span><span class="w"> </span><span class="nt">span</span><span class="p">.</span><span class="nc">co</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="mh">#60a0b0</span><span class="p">;</span><span class="w"> </span><span class="k">font-style</span><span class="p">:</span><span class="w"> </span><span class="kc">italic</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c">/* Comment */</span>
<span class="nt">code</span><span class="w"> </span><span class="nt">span</span><span class="p">.</span><span class="nc">cv</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="mh">#60a0b0</span><span class="p">;</span><span class="w"> </span><span class="k">font-weight</span><span class="p">:</span><span class="w"> </span><span class="kc">bold</span><span class="p">;</span><span class="w"> </span><span class="k">font-style</span><span class="p">:</span><span class="w"> </span><span class="kc">italic</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c">/* CommentVar */</span>
<span class="nt">code</span><span class="w"> </span><span class="nt">span</span><span class="p">.</span><span class="nc">do</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="mh">#ba2121</span><span class="p">;</span><span class="w"> </span><span class="k">font-style</span><span class="p">:</span><span class="w"> </span><span class="kc">italic</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c">/* Documentation */</span>
<span class="nt">code</span><span class="w"> </span><span class="nt">span</span><span class="p">.</span><span class="nc">dt</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="mh">#902000</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c">/* DataType */</span>
<span class="nt">code</span><span class="w"> </span><span class="nt">span</span><span class="p">.</span><span class="nc">dv</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="mh">#40a070</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c">/* DecVal */</span>
<span class="nt">code</span><span class="w"> </span><span class="nt">span</span><span class="p">.</span><span class="nc">er</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="mh">#ff0000</span><span class="p">;</span><span class="w"> </span><span class="k">font-weight</span><span class="p">:</span><span class="w"> </span><span class="kc">bold</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c">/* Error */</span>
<span class="nt">code</span><span class="w"> </span><span class="nt">span</span><span class="p">.</span><span class="nc">ex</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c">/* Extension */</span>
<span class="nt">code</span><span class="w"> </span><span class="nt">span</span><span class="p">.</span><span class="nc">fl</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="mh">#40a070</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c">/* Float */</span>
<span class="nt">code</span><span class="w"> </span><span class="nt">span</span><span class="p">.</span><span class="nc">fu</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="mh">#06287e</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c">/* Function */</span>
<span class="nt">code</span><span class="w"> </span><span class="nt">span</span><span class="p">.</span><span class="nc">im</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c">/* Import */</span>
<span class="nt">code</span><span class="w"> </span><span class="nt">span</span><span class="p">.</span><span class="nc">in</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="mh">#60a0b0</span><span class="p">;</span><span class="w"> </span><span class="k">font-weight</span><span class="p">:</span><span class="w"> </span><span class="kc">bold</span><span class="p">;</span><span class="w"> </span><span class="k">font-style</span><span class="p">:</span><span class="w"> </span><span class="kc">italic</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c">/* Information */</span>
<span class="nt">code</span><span class="w"> </span><span class="nt">span</span><span class="p">.</span><span class="nc">kw</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="mh">#007020</span><span class="p">;</span><span class="w"> </span><span class="k">font-weight</span><span class="p">:</span><span class="w"> </span><span class="kc">bold</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c">/* Keyword */</span>
<span class="nt">code</span><span class="w"> </span><span class="nt">span</span><span class="p">.</span><span class="nc">op</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="mh">#666666</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c">/* Operator */</span>
<span class="nt">code</span><span class="w"> </span><span class="nt">span</span><span class="p">.</span><span class="nc">ot</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="mh">#007020</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c">/* Other */</span>
<span class="nt">code</span><span class="w"> </span><span class="nt">span</span><span class="p">.</span><span class="nc">pp</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="mh">#bc7a00</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c">/* Preprocessor */</span>
<span class="nt">code</span><span class="w"> </span><span class="nt">span</span><span class="p">.</span><span class="nc">sc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="mh">#4070a0</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c">/* SpecialChar */</span>
<span class="nt">code</span><span class="w"> </span><span class="nt">span</span><span class="p">.</span><span class="nc">ss</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="mh">#bb6688</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c">/* SpecialString */</span>
<span class="nt">code</span><span class="w"> </span><span class="nt">span</span><span class="p">.</span><span class="nc">st</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="mh">#4070a0</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c">/* String */</span>
<span class="nt">code</span><span class="w"> </span><span class="nt">span</span><span class="p">.</span><span class="nc">va</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="mh">#19177c</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c">/* Variable */</span>
<span class="nt">code</span><span class="w"> </span><span class="nt">span</span><span class="p">.</span><span class="nc">vs</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="mh">#4070a0</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c">/* VerbatimString */</span>
<span class="nt">code</span><span class="w"> </span><span class="nt">span</span><span class="p">.</span><span class="nc">wa</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="mh">#60a0b0</span><span class="p">;</span><span class="w"> </span><span class="k">font-weight</span><span class="p">:</span><span class="w"> </span><span class="kc">bold</span><span class="p">;</span><span class="w"> </span><span class="k">font-style</span><span class="p">:</span><span class="w"> </span><span class="kc">italic</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c">/* Warning */</span>
</code></pre></div>
<p>This CSS is great, but only actually needs to be generated once. I copied this CSS in a single <a href="https://github.com/pavo-etc/pavo-etc.github.io/blob/94d59de43188660d625d12b5df33894841f99922/styles/code.css">file</a>. After copying this text, the <code>--standalone</code> flag can be omitted.</p>
<h3 id="with-theming">with theming?</h3>
<p>The colours used in the highlighting can be customised! As with everything else in my life at the moment, I use <a href="https://draculatheme.com/">Dracula</a>, which thankfully <a href="https://draculatheme.com/pandoc">already has a theme for Pandoc</a>.</p>
<p>Once the theme is installed, Pandoc can highlight using the theme with the <code>--defaults</code> flag:</p>
<div class="highlight"><pre><span></span><code>pandoc<span class="w"> </span>inputfile.md<span class="w"> </span>-o<span class="w"> </span>output.html<span class="w"> </span>--to<span class="o">=</span>html5<span class="w"> </span>--standalone<span class="w"> </span>--defaults<span class="w"> </span>path/to/theme/dracula.yaml
</code></pre></div>
<p>The HTML classes will be the same names regardless of the theme, but the inline CSS will be dependent on the theme. Again, this only needs to be run once, and the inline CSS can be copied and saved to be used later.</p>
<h2 id="simple-templating">Simple Templating</h2>
<p>Pandoc makes it simple, as long as you only need simple template insertions! HTML templates can be created easily. A basic template could look like the following:</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;/styles/code.css&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>$title$<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">header</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>$title$<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>$subtitle$<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>$date$<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">header</span><span class="p">&gt;</span>

    <span class="p">&lt;</span><span class="nt">article</span><span class="p">&gt;</span>
        $body$
    <span class="p">&lt;/</span><span class="nt">article</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</code></pre></div>
<p>Note the inclusion of the stylesheet. <code>code.css</code> includes the CSS for code highlighting.</p>
<p>The <code>body</code> variable is automatically assigned to the content of the Markdown file, and the rest of the variables can be assigned manually using a YAML header in the Markdown file.</p>
<div class="highlight"><pre><span></span><code>---
title: A Titular Title
subtitle: A subtitular subtitle
<span class="gu">date: 2022-06-12</span>
<span class="gu">---</span>

<span class="gu">## Chapter 1: Where it all began</span>

Lorem ipsum amirite.  Hey look a fenced code block:

<span class="sb">```Python</span>
<span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">5</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;x is equal to 5&quot;</span><span class="p">)</span>
<span class="sb">```</span>
</code></pre></div>
<p>To use the template, you use the <code>--template</code> flag in the Pandoc invocation:</p>
<div class="highlight"><pre><span></span><code>pandoc<span class="w"> </span>inputfile.md<span class="w"> </span>-o<span class="w"> </span>outputfile.html<span class="w"> </span>--to<span class="o">=</span>html5<span class="w"> </span>--template<span class="o">=</span>path/to/template.html
</code></pre></div>
<h2 id="dependencies">Dependencies</h2>
<p>None! The outputted HTML has no external dependencies.</p>
<h2 id="automated">Automated?</h2>
<p>It's a pain typing out that command for each post - so don't.</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="nv">nonposts</span><span class="o">=(</span><span class="s2">&quot;styles/&quot;</span>,<span class="w"> </span><span class="s2">&quot;templates/&quot;</span><span class="o">)</span>

<span class="k">for</span><span class="w"> </span>d<span class="w"> </span><span class="k">in</span><span class="w"> </span>*/<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$d</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span>!<span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="si">${</span><span class="nv">nonposts</span><span class="p">[*]</span><span class="si">}</span><span class="w"> </span><span class="o">=</span>~<span class="w"> </span><span class="nv">$d</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;is post&quot;</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;generating index.html&quot;</span>
<span class="w">        </span><span class="nv">name</span><span class="o">=</span><span class="k">$(</span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$d</span><span class="s2">&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sed<span class="w"> </span><span class="s1">&#39;s/.$//&#39;</span><span class="k">)</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;pandoc </span><span class="si">${</span><span class="nv">d</span><span class="si">}${</span><span class="nv">name</span><span class="si">}</span><span class="s2">.md -o </span><span class="si">${</span><span class="nv">d</span><span class="si">}</span><span class="s2">index.html --to=html5 --template=templates/template.html&quot;</span>
<span class="w">        </span>pandoc<span class="w"> </span><span class="si">${</span><span class="nv">d</span><span class="si">}${</span><span class="nv">name</span><span class="si">}</span>.md<span class="w"> </span>-o<span class="w"> </span><span class="si">${</span><span class="nv">d</span><span class="si">}</span>index.html<span class="w"> </span>--to<span class="o">=</span>html5<span class="w"> </span>--template<span class="o">=</span>templates/template.html
<span class="w">    </span><span class="k">fi</span>
<span class="k">done</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;done&quot;</span>
</code></pre></div>
<p>This script is designed to work on the following directory structure:</p>
<div class="highlight"><pre><span></span><code>blog
├──<span class="w"> </span>basic-seleniumbasic
│<span class="w">   </span>├──<span class="w"> </span>adding-reference.png
│<span class="w">   </span>├──<span class="w"> </span>basic-seleniumbasic.md
│<span class="w">   </span>├──<span class="w"> </span>dotnet-frameworks.png
│<span class="w">   </span>├──<span class="w"> </span>index.html
│<span class="w">   </span>└──<span class="w"> </span>seleniumbasic-installer.png
├──<span class="w"> </span>covid-updates
│<span class="w">   </span>├──<span class="w"> </span>covid-updates.md
│<span class="w">   </span>├──<span class="w"> </span>index.html
│<span class="w">   </span>└──<span class="w"> </span>media_release.png
├──<span class="w"> </span>crafting-recipes
│<span class="w">   </span>├──<span class="w"> </span>crafting-recipes.md
│<span class="w">   </span>└──<span class="w"> </span>index.html
├──<span class="w"> </span>file-descriptors
│<span class="w">   </span>├──<span class="w"> </span>file-descriptors.md
│<span class="w">   </span>└──<span class="w"> </span>index.html
├──<span class="w"> </span>generate_posts.sh
├──<span class="w"> </span>hep-001
│<span class="w">   </span>├──<span class="w"> </span>hep-001.md
│<span class="w">   </span>└──<span class="w"> </span>index.html
├──<span class="w"> </span>index.html
├──<span class="w"> </span>poor-mans-site
│<span class="w">   </span>├──<span class="w"> </span>index.html
│<span class="w">   </span>└──<span class="w"> </span>poor-mans-site.md
├──<span class="w"> </span>templates
│<span class="w">   </span>└──<span class="w"> </span>template.html
└──<span class="w"> </span>usernames
<span class="w">    </span>├──<span class="w"> </span>index.html
<span class="w">    </span>└──<span class="w"> </span>usernames.md
</code></pre></div>
<p>It opens every directory (except those in <code>nonposts</code>), runs pandoc on a Markdown file with the same name as the directory, and outputs <code>index.html</code> based on <code>templates/template.html</code>.</p>
<p>The top level <code>index.html</code> is not modified by the script at all. This page presumably would link to the subdirectories and must be manually modified. Ugh.</p></article>

    <hr />

    <div class="meta">
      
      <p class="backlinks"><span class="bold">Incoming:</span>
        
        <a href="/ironprof">ironprof</a>
        
        </span>
      </p>
      

      
      <p class="backlinks"><span class="bold">Tags:</span>
        
        <a href="/tags#posts">#posts</a>
        
        </span>
      </p>
      

      
      <p>
        <span class="backlinks">
          <span class="bold">Posted:</span> 2022-06-11
        </span>
        
        <span class="backlinks">
          <span class="bold">Last update:</span> 2024-03-18 12:41:40 +1100
        </span>
        
      </p>
      
    </div>
  </main>
  <footer>
    <a href="mailto:zachpmanson@gmail.com?subject=On 'The Poor Man's Static Site Generator'">reply</a>
    <a href="/awk">random</a>
    <a href="/recent-changes">updates</a>
    <a href="/posts">posts</a>
    <a href="/tags">tags</a>
    <a href="/sitemap">sitemap</a>
    <a href="https://github.dev/pavo-etc/notes/blob/main/./notes/Posts/The Poor Man's Static Site Generator.md" class="desktop">edit</a>
    <a href="https://github.com/pavo-etc/notes/edit/main/./notes/Posts/The Poor Man's Static Site Generator.md" class="mobile">edit</a>
  </footer>
  
</body>

</html>