<!DOCTYPE html>
<html lang="en">

<head>
  <link rel="stylesheet" href="/static/styles/global.css" />
  <link rel="stylesheet" href="/static/styles/code.css" />

  <link rel="icon" href="/static/icon/icon.svg" type="image/svg+xml">
  <link rel="shortcut icon" href="/static/icon/favicon.ico" />

  <link rel="alternate" type="application/rss+xml" href="https://notes.zachmanson.com/posts.xml" title="notes: posts" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta charset="UTF-8" />
  <title>notes: sed</title>
</head>

<body>
  <nav>
    <div class="main-icon">
      <a href="/">
        <svg xmlns="http://www.w3.org/2000/svg" baseProfile="full" version="1.1" style="fill: none;"
          viewBox="26.88 56.87 216.25 156.27">
          <path
            style="stroke-width: 15px; stroke-linecap: butt; stroke-linejoin: round; stroke: rgb(10, 10, 10); fill: none;"
            d="M135,75 A60,60 0 0,0 75,135 A60,60 0 0,0 135,195 A60,60 0 0,0 195,135 A60,60 0 0,0 135,75 M45,90 A15,15 0 0,1 60,75 A15,15 0 0,1 75,90 L75,135 L75,180 A15,15 0 0,1 60,195 A15,15 0 0,1 45,180 M225,90 A15,15 0 0,0 210,75 A15,15 0 0,0 195,90 L195,135 L195,180 A15,15 0 0,0 210,195 L210,195 A15,15 0 0,0 225,180 M135,105 A30,30 0 0,1 165,135 A30,30 0 0,1 135,165 A30,30 0 0,1 105,135 A30,30 0 0,1 135,105 M45,105 L45,105 L45,165 M225,105 L225,105 L225,165 ">
          </path>
        </svg>
      </a>
    </div>

    <div class="nav-segments-container">
      <div class="nav-segments">
        

        <div class="flex flex-col text-left nav-links">
          <a href="/unix-programs" class="activated-link">Unix Programs</a>
          
          
          <a href="/gecos">GECOS</a>
          
          
          
          <a href="/linux">Linux</a>
          
          
          
          <a href="/unix-files">Unix Files</a>
          
          
          
          <a href="/unix-processes">Unix Processes</a>
          
          
          
          
          
          
          <a href="/macos">macOS</a>
          
          
        </div>
        

        

        <div class="flex flex-col text-left nav-links">
          <a href="/sed" class="activated-link">sed</a>
          
          
          <a href="/awk">Awk</a>
          
          
          
          <a href="/make">Make</a>
          
          
          
          <a href="/vi(m)">Vi(m)</a>
          
          
          
          
          
        </div>
        

        
      </div>
    </div>


  </nav>
  <main>
    <header>
      <h1>sed</h1>
    </header>
    <article><p>sed (stream editor) is an editing language for manipulating text files.  It performs editing on the fly, intended to work as part of Unix pipelines that reads lines one by one from files.  It performs functions on lines and sending the lines to stdout. Functions are applied sequentially, and they accumulate in complexity quickly.  Breaking it up into smaller scripts can keep the complexity down.</p>
<h2 id="syntax">Syntax</h2>
<p><code>sed &lt;options&gt; &lt;file&gt;</code></p>
<ul>
<li><code>-e &lt;sed operation&gt;</code> a single edit to apply to the file(s), can have multiple <code>-e</code> calls</li>
<li><code>-f &lt;file of sed ops&gt;</code></li>
<li><code>-n</code> transformed output not send to stdout</li>
</ul>
<h2 id="inline">Inline</h2>
<p>Simple actions can be specified inline using <code>-e</code>.</p>
<div class="highlight"><pre><span></span><code>sed<span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;s/[()]/ &amp; /g&quot;</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;s/ */ /g*&quot;</span><span class="w"> </span>file.txt
</code></pre></div>
<p>This places places a space around all occurrences of <code>(</code> and <code>)</code>.</p>
<p><code>g</code> means global, applies to every instance on the line rather than just the first of every line.</p>
<p>This is tedious</p>
<h2 id="script">Script</h2>
<p>Can put text manipulations into a sed script invoked with <code>-f</code>.  Comment lines begin with <code>#</code> </p>
<p>Command format:
<div class="highlight"><pre><span></span><code>[&lt;address&gt;[, &lt;address&gt;]] &lt;function&gt; [&lt;args&gt;]
</code></pre></div></p>
<h2 id="addresses">Addresses</h2>
<p>Addresses are a range of lines to apply the function to. Without an address, the function is applied to all lines.</p>
<div class="highlight"><pre><span></span><code>&lt;address&gt;&lt;op&gt;
42p
</code></pre></div>
<div class="highlight"><pre><span></span><code>&lt;address&gt;,&lt;address&gt;&lt;op&gt;
50,100p
</code></pre></div>
<p><code>!</code> inverts the selection.</p>
<div class="highlight"><pre><span></span><code>!30p
</code></pre></div>
<p>Address variants:</p>
<ul>
<li>line num</li>
<li><code>.</code> current line</li>
<li><code>$</code> last input line</li>
<li><code>0</code> before first line</li>
<li>context address specified by regex</li>
<li>simple arithmetic on an address</li>
</ul>
<h2 id="commands">Commands</h2>
<ul>
<li>regex replacements <code>s/&lt;regex&gt;/&lt;replacement&gt;/[g]</code><ul>
<li><code>g</code> make it global</li>
<li><code>&amp;</code> in replacment means "the entire captured text"</li>
</ul>
</li>
<li>delete <code>d</code></li>
<li>print <code>p</code><ul>
<li>must be used with <code>-n</code></li>
</ul>
</li>
<li>print (include  non-printables and fold lines) <code>l</code></li>
</ul></article>

    <hr />

    <div class="meta">
      

      
      <p class="backlinks"><span class="bold">Last update:</span> 2024-03-17 15:33:03 +1100</p>
      
      
      <p class="backlinks"><span class="bold">Created:</span> 2023-05-24 11:48:49 +0800</p>
      

      
      <p class="backlinks"><span class="bold">Incoming:</span>
        
        <a href="/awk">Awk</a>
        
        <a href="/uwa-computer-science">UWA Computer Science</a>
        
        <a href="/unix-programs">Unix Programs</a>
        
        </span>
      </p>
      

      
      <p class="backlinks"><span class="bold">Tags:</span>
        
        <a href="/tags#unix">#unix</a>
        
        </span>
      </p>
      
    </div>
  </main>
  <footer>
    <a href="mailto:zachpmanson@gmail.com?subject=On 'sed'">reply</a>
    <a href="/worse-is-better">random</a>
    <a href="/recent-changes">updates</a>
    <a href="/tags">tags</a>
    <a href="/sitemap">sitemap</a>
    <a href="https://github.dev/pavo-etc/notes/blob/main/./notes/Notes/Software/Unix/Unix Programs/sed.md">edit</a>
  </footer>
  
</body>

</html>