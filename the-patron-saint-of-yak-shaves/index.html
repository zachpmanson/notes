<!DOCTYPE html>
<html lang="en">

<head>
  <link rel="stylesheet" href="/static/styles/global.css" />
  <link rel="stylesheet" href="/static/styles/code.css" />

  <link rel="icon" href="/static/icon/icon.svg" type="image/svg+xml">
  <link rel="shortcut icon" href="/static/icon/favicon.ico" />

  <link rel="alternate" type="application/rss+xml" href="https://notes.zachmanson.com/posts.xml" title="notes: posts" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta charset="UTF-8" />
  <title>notes: the patron saint of yak shaves</title>
</head>

<body>
  <nav>
    <div class="main-icon">
      <a href="/">
        <svg xmlns="http://www.w3.org/2000/svg" baseProfile="full" version="1.1" style="fill: none;"
          viewBox="26.88 56.87 216.25 156.27">
          <path
            style="stroke-width: 15px; stroke-linecap: butt; stroke-linejoin: round; stroke: rgb(10, 10, 10); fill: none;"
            d="M135,75 A60,60 0 0,0 75,135 A60,60 0 0,0 135,195 A60,60 0 0,0 195,135 A60,60 0 0,0 135,75 M45,90 A15,15 0 0,1 60,75 A15,15 0 0,1 75,90 L75,135 L75,180 A15,15 0 0,1 60,195 A15,15 0 0,1 45,180 M225,90 A15,15 0 0,0 210,75 A15,15 0 0,0 195,90 L195,135 L195,180 A15,15 0 0,0 210,195 L210,195 A15,15 0 0,0 225,180 M135,105 A30,30 0 0,1 165,135 A30,30 0 0,1 135,165 A30,30 0 0,1 105,135 A30,30 0 0,1 135,105 M45,105 L45,105 L45,165 M225,105 L225,105 L225,165 ">
          </path>
        </svg>
      </a>
    </div>

    <div class="nav-segments-container">
      <div class="nav-segments">
        

        <div class="flex flex-col text-left nav-links">
          <a href="/folklore" class="activated-link">Folklore</a>
          
          
          <a href="/bookmarks">Bookmarks</a>
          
          
          
          <a href="/fiction">Fiction</a>
          
          
          
          
          
          
          <a href="/lines">Lines</a>
          
          
          
          <a href="/problems">Problems</a>
          
          
          
          <a href="/templates">Templates</a>
          
          
        </div>
        

        

        <div class="flex flex-col text-left nav-links">
          <a href="/the-patron-saint-of-yak-shaves" class="activated-link">The Patron Saint of Yak Shaves</a>
          
          
          <a href="/10-rules-of-internet">10 Rules of Internet</a>
          
          
          
          <a href="/a-conspiracy-to-kill-ie6">A Conspiracy To Kill IE6</a>
          
          
          
          <a href="/a-story-about-magic">A Story About 'Magic'</a>
          
          
          
          <a href="/alice-in-modeland">Alice in Modeland</a>
          
          
          
          <a href="/aliens-and-calendars">Aliens and Calendars</a>
          
          
          
          <a href="/amazons-first-job-posting">Amazon's First Job Posting</a>
          
          
          
          <a href="/an-update-on-facebook-video-marketing-metrics">An Update on Facebook Video Marketing Metrics</a>
          
          
          
          <a href="/bell-labs-productivity-mystery">Bell Labs' Productivity Mystery</a>
          
          
          
          <a href="/best-practices-for-time-travellers">Best Practices for Time Travellers</a>
          
          
          
          <a href="/bill-gates-tries-to-install-windows-movie-maker">Bill Gates Tries To Install Windows Movie Maker</a>
          
          
          
          <a href="/bill-gates-wrote-fat-on-an-airplane">Bill Gates Wrote FAT on an Airplane</a>
          
          
          
          <a href="/blinkenlichten">Blinkenlichten</a>
          
          
          
          <a href="/c-locale-braindeath">C Locale Braindeath</a>
          
          
          
          <a href="/cannot-simultaneously-fix-and-keep-job.-therefore-wont-fix.">Cannot simultaneously fix and keep job. Therefore, won't fix.</a>
          
          
          
          <a href="/christ-mcdonald">Christ McDonald</a>
          
          
          
          <a href="/competing-with-gpt">Competing with GPT</a>
          
          
          
          <a href="/context-menu-hell">Context Menu Hell</a>
          
          
          
          <a href="/digg-v4">Digg v4</a>
          
          
          
          <a href="/dispatch-from-the-cyberpunk-city">Dispatch From the Cyberpunk City</a>
          
          
          
          <a href="/do-things-tell-people">Do Things, Tell People</a>
          
          
          
          <a href="/ellsbergs-advice-for-kissinger">Ellsberg's Advice For Kissinger</a>
          
          
          
          <a href="/facing-the-street">Facing the Street</a>
          
          
          
          <a href="/factory-factory-factory">Factory Factory Factory</a>
          
          
          
          <a href="/feminist-server-manifesto">Feminist Server Manifesto</a>
          
          
          
          <a href="/file-over-app">File Over App</a>
          
          
          
          <a href="/git-koans">Git Koans</a>
          
          
          
          <a href="/growth-at-tumblr-and-wordpress">Growth at Tumblr and Wordpress</a>
          
          
          
          <a href="/guerilla-open-access-manifesto">Guerilla Open Access Manifesto</a>
          
          
          
          <a href="/heaven-banning">Heaven Banning</a>
          
          
          
          <a href="/i-no-longer-built-software">I No Longer Built Software</a>
          
          
          
          <a href="/incomplete-list-of-mistakes-in-the-design-of-css">Incomplete List of Mistakes in the Design of CSS</a>
          
          
          
          <a href="/interviewing-for-canonical">Interviewing for Canonical</a>
          
          
          
          <a href="/jsx-react-native-and-typescript">JSX, React Native, and TypeScript</a>
          
          
          
          <a href="/kurt-vonnegut-grades">Kurt Vonnegut Grades</a>
          
          
          
          <a href="/larry-page-builds-a-web-robot">Larry Page Builds a Web Robot</a>
          
          
          
          <a href="/life-of-an-oracle-developer">Life of an Oracle Developer</a>
          
          
          
          <a href="/man-spends-entire-career-mastering-crappy-codebase">Man Spends Entire Career Mastering Crappy Codebase</a>
          
          
          
          <a href="/no-coffee-==-no-job">No Coffee == No Job</a>
          
          
          
          <a href="/no-dogs-were-harmed-in-the-making-of-this-app">No dogs were harmed in the making of this app</a>
          
          
          
          <a href="/not-a-real-engineer">Not a real engineer</a>
          
          
          
          <a href="/on-the-origin-of-.ds_store">On the Origin of .DS_Store</a>
          
          
          
          <a href="/on-the-origin-of-emacs">On the Origin of Emacs</a>
          
          
          
          <a href="/on-the-origin-of-toots">On the Origin of Toots</a>
          
          
          
          <a href="/on-the-origins-of-rust">On the Origins of Rust</a>
          
          
          
          <a href="/openoffice-cant-print-on-tuesdays">OpenOffice Can't Print on Tuesdays</a>
          
          
          
          <a href="/oracle-as-lawnmower">Oracle as Lawnmower</a>
          
          
          
          <a href="/originality-not-required">Originality Not Required</a>
          
          
          
          <a href="/psd-is-not-my-favourite-file-format">PSD is not my favourite file format</a>
          
          
          
          <a href="/please-drink-verification-can">Please Drink Verification Can</a>
          
          
          
          <a href="/pocket-veto">Pocket Veto</a>
          
          
          
          <a href="/price-of-chatgpts-api-vs-human">Price of ChatGPT's API vs Human</a>
          
          
          
          <a href="/put-yourself-in-jia-tans-shoes">Put yourself in Jia Tan's shoes</a>
          
          
          
          <a href="/regular-expressions-and-html">Regular Expressions and HTML</a>
          
          
          
          <a href="/rob-pikes-5-rules-of-programming">Rob Pike's 5 Rules of Programming</a>
          
          
          
          <a href="/rob-pikes-lesson-in-shortcuts">Rob Pike's Lesson in Shortcuts</a>
          
          
          
          <a href="/sre-threats">SRE Threats</a>
          
          
          
          <a href="/steve-yegges-tale-of-geoworks">Steve Yegge's Tale of Geoworks</a>
          
          
          
          <a href="/steveys-google-platforms-rant">Stevey's Google Platforms Rant</a>
          
          
          
          <a href="/superstitious-encoding">Superstitious Encoding</a>
          
          
          
          <a href="/svelte-parses-html-all-wrong">Svelte parses HTML all wrong</a>
          
          
          
          <a href="/the-bitter-lesson">The Bitter Lesson</a>
          
          
          
          <a href="/the-cab-ride-ill-never-forget">The Cab Ride I'll Never Forget</a>
          
          
          
          <a href="/the-case-of-the-500-mile-email">The Case of the 500-Mile Email</a>
          
          
          
          <a href="/the-crawford-principles">The Crawford Principles</a>
          
          
          
          <a href="/the-damned-can-now-play-three-chords">The Damned Can Now Play Three Chords</a>
          
          
          
          <a href="/the-descent-to-c">The Descent to C</a>
          
          
          
          <a href="/the-future-of-open-source">The Future of Open Source</a>
          
          
          
          <a href="/the-nazi-bar-problem">The Nazi Bar Problem</a>
          
          
          
          
          
          
          <a href="/the-reddit-long-con">The Reddit Long Con</a>
          
          
          
          <a href="/the-smallest-quine">The Smallest Quine</a>
          
          
          
          <a href="/the-unknown-citizen">The Unknown Citizen</a>
          
          
          
          <a href="/the-bin-split">The bin Split</a>
          
          
          
          <a href="/thoughts-on-flash">Thoughts On Flash</a>
          
          
          
          <a href="/tiktoks-enshittification">TikTok's Enshittification</a>
          
          
          
          <a href="/time-traveller-on-irc">Time Traveller on IRC</a>
          
          
          
          <a href="/unix-recovery-legend">Unix Recovery Legend</a>
          
          
          
          <a href="/usenet-post-warning">Usenet Post Warning</a>
          
          
          
          <a href="/virtues-of-a-good-programmer">Virtues of a Good Programmer</a>
          
          
          
          <a href="/we-do-not-break-userspace">We Do Not Break Userspace</a>
          
          
          
          <a href="/we-have-no-moat-and-neither-does-openai">We Have No Moat, And Neither Does OpenAI</a>
          
          
          
          <a href="/when-is-midnight">When Is Midnight</a>
          
          
          
          <a href="/wikipedia-and-anti-elitism">Wikipedia and Anti-Elitism</a>
          
          
          
          <a href="/worse-is-better">Worse is Better</a>
          
          
          
          <a href="/yak-shaving">Yak Shaving</a>
          
          
          
          <a href="/carproblems.txt">carproblems.txt</a>
          
          
        </div>
        

        
      </div>
    </div>
  </nav>

  <main>
    <header>
      <h1>Donald Knuth - The Patron Saint of Yak Shaves</h1>
    </header>

    <article><p>A <a href="https://yakshav.es/the-patron-saint-of-yakshaves/">talk</a> by <a href="http://skade.me/profile.html">Florian Gilcher</a>.</p>
<hr />
<p>In 2015, I gave a talk in which I called <a href="https://speakerdeck.com/skade/tex-the-ultimate-yakshave">Donald Knuth the Patron Saint of Yak Shaves</a>. The reason is that Donald Knuth achieved the most perfect and long-running yak shave: TeX.</p>
<p>I figured this is worth repeating.</p>
<h2 id="how-to-achieve-the-ultimate-yak-shave">How to achieve the ultimate Yak Shave</h2>
<p>The ultimate yak shave is the combination of improbable circumstance, the privilege to be able to shave at your hearts will and the will to follow things through to the end. Here’s the way it was achieved with TeX. The recount is purely mine, inaccurate and obviously there for fun. I’ll avoid the most boring facts that everyone always tells, such as <a href="https://en.wikipedia.org/wiki/Knuth_reward_check">why Knuth’s checks have their own Wikipedia page</a>.</p>
<p>So, let’s get things started.</p>
<h2 id="the-pre-shave">The Pre-Shave</h2>
<p>TeX was invented to typeset a book. No plural. It was invented to typeset the second edition of “The Art of Computer Programming”. The second edition had to be typeset again, as “hot type” typesetting, which was used for the first edition, was not available anymore. Being unimpressed by the available options, Knuth decided to write his own system, which later ended up as TeX.</p>
<p>But “The Art of Computer Programming” is an impressive book in its own right: it is still unfinished, currently spanning 3.5 volumes (yes, the fourth is unfinished, but the first chapters are released). It was called a book of the century by <a href="https://web.archive.org/web/20080820030403/http://www.americanscientist.org/bookshelf/pub/100-or-so-books-that-shaped-a-century-of-science">American scientist writers</a>.</p>
<p>Yak shave -2: Write a book of the century</p>
<p>Digging deeper into TAOCP, it already shows the works of a yak shaver destined for greater things. All programs in this book refer to a common assembly language: MIX. Which was invented for the book.</p>
<p>Yak shave -1: Invent your own computer for illustration purposes</p>
<h2 id="implementation">Implementation</h2>
<p>The first version of TeX was implemented using the <a href="https://en.wikipedia.org/wiki/SAIL_(programming_language)">SAIL</a> programming language. It was later replaced by WEB. What’s WEB? It’s a programming language, invented by… You’ll have guessed it by now, Donald Knuth. It transpiles to PASCAL. Knuth transpiled the WEB before it was cool.</p>
<p>Yak shave 1: Somewhere along the road, implement your own programming language…</p>
<p>WEB is a special language: in WEB, any bare text is just text. It’s interleaved with marked pieces of code, which are later used for the program code. The documentation can be run through a special program to produce… a TeX file. The concept is called “literate programming” and was introduced by… Donald Knuth.</p>
<p>Yak shave 2: Invent your own programming paradigm for it</p>
<p>But, what does TeX do? Mainly, it does text layout and a couple of other things. Knuth being known for research on algorithms couldn’t do without coming up with his own algorithm, later published together with Michael Plass. What does the algorithm do? It finds a visually pleasing way to lay out a paragraph on a page without making line breaks look jarring (for example by adjusting the “glue”, the whitespace between words). Here’s a <a href="https://www.ugrad.cs.ubc.ca/~cs490/2015W2/lectures/Knuth.pdf">nice explanation</a>.</p>
<p>It’s still considered good and has a huge factor in the recognisable look of TeX documents.</p>
<p>Yak shave 3: Invent your own layout algorithm for it</p>
<p>Which brings us to the next problem: <em>what</em> does this thing lay out? Generically speaking: objects and clusters of objects of varying sizes. Interestingly, that’s what TeX deals with, it has no concept of a character other then dimensions.</p>
<p>Nevertheless, these are usually characters and characters are provided by fonts. Fonts must usually be licensed at a fee and free fonts weren’t so available in the 70s.</p>
<p>Another very recognisable feature of TeX documents that they are often set in a font called “Computer Modern”.</p>
<p>I’m trying to make this whole thing a bit more thrilling, so I will let you guess who created that one.</p>
<p>Yak shave 4: Design a font</p>
<p>Fonts need to be authored. Usually, they are described in some vector description, often Bézier curves. This is fairly standard and not an innovation of Knuth. <em>But</em>, he wrote a description language for that, along with an interpreter to turn this descriptions into proper font files. This is <a href="https://en.wikipedia.org/wiki/Metafont">METAFONT</a>. It’s not strictly part of TeX, it’s just that the Yak happened to stand close.</p>
<p>Yak shave 5: Write an authoring tool for fonts</p>
<p>As a side-note, METAFONT was later evolved into METAPOST for generic vector drawings, which has the one feature I still miss from many modern graphics description languages: the ability to describe an (addressable) point as the intersection between two other primitives.</p>
<p>Another side-note: both TeX and METAFONT still see releases, at a slow pace. TeX is currently at version 3.14159265, METAFONT at 2.7182818. Yep, TeX is slowly converging towards pi, while METAFONT towards e. Take that, semantic versioning advocates!</p>
<p>Yak shave 6: Come up with your own versioning scheme<br />
Yak shave 7: Avoid adoption of it for greater good</p>
<p>We’re not done yet. We can layout text (and other things), but where do we convert it to? Now, everyone knows the horror printers invoke, so no one wants to deal with those directly. Classic TeX instead converts things to <a href="https://en.wikipedia.org/wiki/Device_independent_file_format">DVI</a>, the “device independent” format. I don’t know many details about it, except what’s on the wiki page, which feels the need to specifically point out that “DVI is not a document encryption format”. It is again a stack-based language (in contrast to PostScript not turing complete), which can then be interpreted through a driver, which would then send that to whatever target (a printer, PDF or such). It was designed by…</p>
<p>David R. Fuchs, Knuth just wrote the implementation.</p>
<p>Yak shave 8: Implement a custom language for printable documents</p>
<p>Note that I haven’t mentioned that TeX is an… interesting… language by itself, but I don’t consider that a yak shave, this was just the implementation.</p>
<p>That makes most of the initial implementation complete. Which means, in orderly fashion, you should give matters in the hand of the community.</p>
<h2 id="community-shaving-is-best-shaving">Community Shaving is Best Shaving</h2>
<p>Since the release of TeX, the community has been busy working on using it as a platform. If you ever downloaded the full TeX distribution, please bear in mind that you are downloading the amassed work of over 40 years, to make sure that each and every TeX document ever written builds. We’re talking about documents here.</p>
<p>But mostly, two big projects sprung out of that. The first is LaTeX by Leslie Lamport. Lamport is a very productive researcher, famous for research in formal methods through TLA+ and also known laying groundwork for many distributed algorithms. LaTeX is based on the idea of seperating presentation and content. It is based around the idea of document classes, which then describe the way a certain document is layed out. Think Markdown, just much more complex. The second is ConTeXt, which is far more focused on fine grained layout control.</p>
<p>Both share a common property:</p>
<p>Community yak shave 1: Create not one, but two programs that are very ungoogleable… Before Google is invented.</p>
<p>Being active in a language that has lingo built around “Rust”, “Cargo” and “manifests”, I feel right at home.</p>
<p>Now, the community also wants to evolve TeX: a lot has changed over the years in technology, so, for example, you’d like to use modern font formats, directly write to modern output formats or use this new UTF-8 thingy. For that, there are specialised TeX interpreters, such as <code>pdf(la)tex</code>, <code>lua(la)tex</code> and <code>xe(la)tex</code>. There’s a problem here: you are not allowed to change TeX and distribute <a href="https://en.wikipedia.org/wiki/TeX#License">it under that name</a>. The thinking here is that if you have a <code>tex</code> binary, you can compile any valid TeX from the past and from the future.</p>
<p>The first issue on that road is that WEB isn’t really a popular programming language, neither is PASCAL and running it on modern systems is a bit of a pain. Which means…</p>
<p>Community yak shave 2: Transpile WEB to C and work from there</p>
<p>This is just the start of a great endeavour…</p>
<p>Community yak shave 3: Build a lot of tooling around that</p>
<h2 id="the-moral-of-the-story">The Moral of the Story</h2>
<p>Whenever you feel like “can’t we just replace this whole thing, it can’t be so hard” when handling TeX, don’t forget how many years of work and especially knowledge were poured into that system. Typesetting isn’t the <em>most</em> popular knowledge around programmers. Especially see it in the context of the space it is in: they can’t remove legacy. Ever. That would break documents.</p>
<p>TeX is also not a programming language. It might resemble one, but mostly, it should be approached as a typesetting system first. A lot of its confusing lingo gets much better then. It’s not programming lingo.</p>
<p>By approaching TeX with an understanding for its history, a lot of things can be learned from it. And yes, a replacement would be great, but it would take ages.</p>
<p>In any case, I hope I thoroughly convinced you why Donald Knuth is the Patron Saint of Yak Shaves.</p>
<h2 id="extra-credits">Extra Credits</h2>
<p>This comes out of a enjoyable discussion with <a href="https://lambdaisland.com/">Arne from Lambda Island</a>, who listened and said “you should totally turn this into a talk”.</p></article>
  </main>

  <footer>
    <details>
      <summary>
        <div class="footer-row">
          
          meta
          
          <a href="/recent-changes">recent</a>
          <a href="/miscellany" class="not-extra-small">random</a>
          <a href="/posts">posts</a>
          <a href="/sitemap" class="not-extra-small">sitemap</a>
          <a href="https://github.dev/zachpmanson/notes/blob/main/./notes/Archive/Folklore/The Patron Saint of Yak Shaves.md" class="desktop">edit</a>
          <a href="https://github.com/zachpmanson/notes/edit/main/./notes/Archive/Folklore/The Patron Saint of Yak Shaves.md" class="mobile">edit</a>
          <a href="mailto:zachpmanson@gmail.com?subject=On 'The Patron Saint of Yak Shaves'">reply</a>
        </div>
      </summary>
      <div class="extra-small">
        <div class="footer-row">
          <a href="/sitemap">sitemap</a>
          <a href="/miscellany">random</a>
        </div>
      </div>

      

      
      <p class="backlinks"><strong> <a href="/tags">Tags:</a></strong>
        
        <a href="/tags#yak-shaving">#yak-shaving</a>
        
        </span>
      </p>
      
      <p>
        

        <span class="backlinks">
          <strong>
            Updated:
          </strong>
          2024-04-04
        </span>

      </p>
    </details>

  </footer>
  
</body>

</html>