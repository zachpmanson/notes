<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="stylesheet" href="/static/styles/colors.css" />
    <link rel="stylesheet" href="/static/styles/global.css" />
    <link rel="stylesheet" href="/static/styles/code.css" />

    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="/static/icon/apple-touch-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="/static/icon/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="/static/icon/favicon-16x16.png"
    />
    <link rel="manifest" href="/static/icon/site.webmanifest" />
    <link rel="mask-icon" href="/static/icon/safari-pinned-tab.svg" color="#bd93f9" />
    <link rel="shortcut icon" href="/static/icon/favicon.ico" />
    <meta name="msapplication-TileColor" content="#603cba" />
    <meta name="msapplication-config" content="/static/icon/browserconfig.xml" />
    <meta name="theme-color" content="#282A36" />


    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta charset="UTF-8" />
    <title>notes: rob pike's lesson in shortcuts</title>
  </head>

  <body>
     <nav>
      <div>
        <a href="/">
          <img src="/static/icon/icon.png" alt="notes" height="100">
        </a>
      </div>
      

      
      <div>
        
        <ul>
        
          <li>
            
            <a href="/fiction">Fiction</a>
            
          </li>
        
          <li>
            
            <a href="/folklore" class="activated-link">Folklore</a>
            
          </li>
        
          <li>
            
            <a href="/lines">Lines</a>
            
          </li>
        
          <li>
            
            <a href="/links">Links</a>
            
          </li>
        
          <li>
            
            <a href="/problems">Problems</a>
            
          </li>
        
          <li>
            
            <a href="/templates">Templates</a>
            
          </li>
        
        </ul>
        
      </div>
      

      
      <div>
        
        <details><summary>21 siblings</summary>
        
        <ul>
        
          <li>
            
            <a href="/alice-in-modeland">Alice in Modeland</a>
            
          </li>
        
          <li>
            
            <a href="/aliens-and-calendars">Aliens and Calendars</a>
            
          </li>
        
          <li>
            
            <a href="/bill-gates-tries-to-install-windows-movie-maker">Bill Gates Tries To Install Windows Movie Maker</a>
            
          </li>
        
          <li>
            
            <a href="/competing-with-gpt">Competing with GPT</a>
            
          </li>
        
          <li>
            
            <a href="/do-things-tell-people">Do Things, Tell People</a>
            
          </li>
        
          <li>
            
            <a href="/pocket-veto">Pocket Veto</a>
            
          </li>
        
          <li>
            
            <a href="/price-of-chatgpts-api-vs-human">Price of ChatGPT's API vs Human</a>
            
          </li>
        
          <li>
            
            <a href="/regular-expressions-and-html">Regular Expressions and HTML</a>
            
          </li>
        
          <li>
            
            <a href="/rob-pikes-lesson-in-shortcuts" class="activated-link">Rob Pike's Lesson in Shortcuts</a>
            
          </li>
        
          <li>
            
            <a href="/sre-threats">SRE Threats</a>
            
          </li>
        
          <li>
            
            <a href="/superstitious-encoding">Superstitious Encoding</a>
            
          </li>
        
          <li>
            
            <a href="/the-bitter-lesson">The Bitter Lesson</a>
            
          </li>
        
          <li>
            
            <a href="/the-cab-ride-ill-never-forget">The Cab Ride I'll Never Forget</a>
            
          </li>
        
          <li>
            
            <a href="/the-case-of-the-500-mile-email">The Case of the 500-Mile Email</a>
            
          </li>
        
          <li>
            
            <a href="/the-crawford-principles">The Crawford Principles</a>
            
          </li>
        
          <li>
            
            <a href="/the-damned-can-now-play-three-chords">The Damned Can Now Play Three Chords</a>
            
          </li>
        
          <li>
            
            <a href="/the-nazi-bar-problem">The Nazi Bar Problem</a>
            
          </li>
        
          <li>
            
            <a href="/the-bin-split">The bin Split</a>
            
          </li>
        
          <li>
            
            <a href="/virtues-of-a-good-programmer">Virtues of a Good Programmer</a>
            
          </li>
        
          <li>
            
            <a href="/worse-is-better">Worse is Better</a>
            
          </li>
        
          <li>
            
            <a href="/yak-shaving">Yak Shaving</a>
            
          </li>
        
        </ul>
        
        </details>
        
      </div>
      



      

    </nav>
    <main>
      <header>
        <h1>Rob Pike's Lesson in Shortcuts</h1>
      </header>
      <article><p>As written by Rob Pike on <a href="https://web.archive.org/web/20180827160401/https://plus.google.com/+RobPikeTheHuman/posts/R58WgWwN9jp">2012-08-12 on Google Plus</a>.</p>
<hr />
<p>A lesson in shortcuts.  </p>
<p>Long ago, as the design of the Unix file system was being worked out, the entries . and .. appeared, to make navigation easier. I'm not sure but I believe .. went in during the Version 2 rewrite, when the file system became hierarchical (it had a very different structure early on).  When one typed ls, however, these files appeared, so either Ken or Dennis added a simple test to the program. It was in assembler then, but the code in question was equivalent to something like this:</p>
<p><code>if (name[0] == '.') continue;</code></p>
<p>This statement was a little shorter than what it should have been, which is  </p>
<p><code>if (strcmp(name, ".") == 0 || strcmp(name, "..") == 0) continue;</code></p>
<p>but hey, it was easy.  </p>
<p>Two things resulted.  </p>
<p>First, a bad precedent was set. A lot of other lazy programmers introduced bugs by making the same simplification. Actual files beginning with periods are often skipped when they should be counted.  </p>
<p>Second, and much worse, the idea of a "hidden" or "dot" file was created. As a consequence, more lazy programmers started dropping files into everyone's home directory. I don't have all that much stuff installed on the machine I'm using to type this, but my home directory has about a hundred dot files and I don't even know what most of them are or whether they're still needed. Every file name evaluation that goes through my home directory is slowed down by this accumulated sludge.  </p>
<p>I'm pretty sure the concept of a hidden file was an unintended consequence. It was certainly a mistake.  </p>
<p>How many bugs and wasted CPU cycles and instances of human frustration (not to mention bad design) have resulted from that one small shortcut about  40 years ago?  </p>
<p>Keep that in mind next time you want to cut a corner in your code.  </p>
<p>(For those who object that dot files serve a purpose, I don't dispute that but counter that it's the files that serve the purpose, not the convention for their names. They could just as easily be in <code>$HOME/cfg</code> or <code>$HOME/lib</code>, which is what we did in Plan 9, which had no dot files. Lessons can be learned.)</p></article>

      
      <p class="backlinks"><span class="bold">Incoming:</span>
          
          <a href="/recent-changes">Recent Changes</a>
          
          <a href="/dotfiles-being-hidden">Dotfiles Being Hidden</a>
          
        </span>
      </p>
      

      
      <p class="backlinks"><span class="bold">Tags:</span>
          
          <a href="/tags#relics">#relics</a>
          
          <a href="/tags#unix">#unix</a>
          
        </span>
      </p>
      

        


      
        
      

    </main>
  </body>
</html>